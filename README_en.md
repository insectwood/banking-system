# Banking System (MSA-based Banking System)

> A banking system (e.g., account transfers) built on Spring Boot and Microservices Architecture (MSA).
> Designed and implemented the entire system lifecycle, from ensuring transaction consistency to infrastructure provisioning via Terraform, CI/CD pipeline automation, and real-time monitoring.

<br/>

## Architecture
![Architecture Diagram](./docs/architecture.png)

<br/>

## Tech Stack

### Backend
- **Language/Framework:** Java 21, Spring Boot 3.4, Spring Cloud Gateway
- **ORM:** JPA (Hibernate)

### Frontend
- **Framework/Build:** React 18, Vite

### Database
- **RDBMS:** MySQL 8.4

### Infrastructure & DevOps
- **Cloud:** AWS (ECS Fargate, RDS, ALB, VPC)
- **IaC:** Terraform
- **Container:** Docker

### CI/CD & Code Quality
- **Pipeline:** GitHub Actions
- **Quality & Testing:** SonarCloud, JaCoCo, JUnit 5

### Monitoring
- **Metrics & Dashboard:** Prometheus, Grafana, Micrometer

<br/>

## ðŸ’¡ Key Features & Implementation Details

### 1. Financial Transaction Consistency & Concurrency Control (Core Banking)
- **Concurrency Control:** Utilized `PESSIMISTIC_WRITE` (Pessimistic Lock) to prevent lost updates during simultaneous withdrawal requests, ensuring sequential and safe processing.
- **Deadlock Prevention:** Prevented cross-transfer deadlocks between multiple accounts by enforcing a consistent lock acquisition order (sorting Account IDs in ascending order).
- **Idempotency Guarantee:** Completely blocked duplicate transactions (e.g., double withdrawals) caused by network timeouts or consecutive user clicks by validating a unique `transactionId` generated by the client.

### 2. Centralized Authentication via API Gateway
- **Unified JWT Validation:** Centralized JWT token validation at the Spring Cloud Gateway. Authorized user information is then securely passed to downstream microservices (Auth, Core) via the `X-User-UUID` header, eliminating redundant code and simplifying security management.

### 3. Infrastructure Automation (Terraform)
- **IaC-based Cloud Provisioning:** Managed AWS resources (VPC, DB, etc.) as code using Terraform rather than manual configuration. This minimizes human error and ensures the rapid, accurate reproduction of identical server environments.

### 4. CI/CD & Code Quality Automation
- **Continuous Integration (CI):** Configured GitHub Actions to automatically trigger builds, tests, and JaCoCo coverage measurements upon PR creation. Integrated SonarCloud to automatically leave review comments on PRs regarding vulnerabilities and code smells.
- **Continuous Deployment (CD):** Merging into the `main` branch automatically pushes Docker images to ECR and triggers an ECS Rolling Update, releasing new versions safely with zero downtime.

### 5. Real-time Monitoring
- **Dashboard Setup:** Integrated Prometheus and Grafana to track core system metrics in real-time, including error detection, API latency, and JVM memory usage.
